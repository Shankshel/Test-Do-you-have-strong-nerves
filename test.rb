# ввод пользователем через консоль
user_name = ARGV[0]

# создаю пустой массив
user = []

# создаю цикл для записи символов строки,
# введеной пользователем в массив
i = 0

while i <= user_name.size - 1
	user.push(user_name[i])
	i += 1
end

# определяю пол пользователя, для корректного обращения
if user == [] 
	user_name = "Незнакомец(-ка)"
	puts "Приветствую тебя #{user_name}"
elsif user[-1] == "а"
	puts "Приветствую тебя #{user_name}, рад что ты пришла!"
elsif user[-1] != "а"
	puts "Приветствую тебя #{user_name}, рад что ты пришел!"
end

puts "*** Тест: Крепкие ли у вас нервы? ***"

sleep 0.5

text = [
	"Возможно вы замечали, что становитесь более раздражительными, вспыльчивыми.",
	"А все это негативно влияет на нервную систему, подрывая тем самым ваше здоровье.",
	"Насколько вы можете быть сдержанными и контролировать конфликтные ситуации, покажет данный тест.",
	"Ответьте на предложенные вопросы \"да\" или \"нет\".",
	"Поехали?"
]

for item in text do
	puts item
	sleep 1
end

# ввод пользователем ответа на поставленый вопрос
# в массиве text
user_input = STDIN.gets.chomp

# выход из программы,при любом отличном ответе от "да"
if user_input != "да"
	puts "Нет... так нет... Пока"
else
	puts "Отлично! За каждый ответ \"да\" Вам будет начисляться 1 балл, \"нет\" - 0 баллов"
# массив вопросов
	questions = [
		"Легко ли вы расстраиваетесь?",
		"Тяжело ли вам расслабляться?",
		"Часто ли вас мучает бессонница?",
		"Принимаете ли вы снотворное?",
		"Страдаете ли вы какими-нибудь болезнями, которые усиливаются стрессом?",
		"Бывают ли у вас приступы паники?",
		"Беспокоитесь ли вы о том, что думают о вас окружающие?",
		"Беспокоитесь ли вы о деньгах?",
		"Легко ли вы смущаетесь?",
		"Считаете ли вы себя скованными?",
		"Часто ли вы вздрагиваете, когда звонит телефон?",
		"Беспокоитесь ли вы о своем здоровье?",
		"Считает ли вы, что у вас много обязанностей?",
		"Беспокоитесь ли вы по мелочам?",
		"Раздражают ли вас пробки?",
		"Боитесь ли вы темноты?",
		"Дрожит ли у вас голос, когда вы волнуетесь?",
	 	"Принимали ли вы когда-нибудь успокоительные лекарства?",
		"Было ли у вас желание все бросить?",
		"Склонны ли вы к беспокойству?",
		"Часто ли вы волнуетесь?",
		"Легко ли вы краснеете?",
		"Часто ли вы расстраиваетесь, когда вам не везет?",
		"Волнуетесь ли вы перед походом в гости, к друзьям, на вечеринку и т. п.?",
		"Расстраиваетесь ли вы, когда над вами смеются?",
		"Раздражает ли вас шум?",
		"Нравится ли вам знакомиться с новыми людьми?",
		"Раздражают ли вас различные требования?",
		"Проверяете ли вы по нескольку раз перед сном, закрыта ли входная дверь?",
		"Много ли времени вы тратите на подготовку какого-нибудь праздника, приема и т. п.?"
	]
# массив результатов
	results = [
		# 20-30 баллов
		"вы неуравновешенны и легко возбудимы.",
		# 10–20 баллов
		"вы слегка неуравновешенны.",
		# 5-10 баллов
		"вы совсем не раздражительны.",
		# Менее 5 баллов
		"вашему спокойствию можно только позавидовать."
	]

# счетчики ответов "да" и "нет"
	yes_answers = 0
	no_answers = 0
# проход по массиву с вопросами
	for item in questions do

		puts item

		answer = nil
		while answer != "да" && answer != "нет"
			print "Ваш ответ: "
			answer = STDIN.gets.chomp.downcase
			sleep 0.5
		end

		if answer == "да"
			yes_answers += 1
		else
			no_answers += 1
		end

	end
# вывод результатов
	puts "Ответов \"да\": #{yes_answers}"
	puts "Ответов \"нет\": #{no_answers}"

	if yes_answers >= 20
		puts "#{user_name}, #{results[0]}"
	elsif yes_answers >= 10
		puts "#{user_name}, #{results[1]}"
	elsif yes_answers >= 5
		puts "#{user_name}, #{results[2]}"
	else
		puts "#{user_name}, #{results[3]}"
	end

end